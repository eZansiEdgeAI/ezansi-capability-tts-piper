{
  "name": "piper-tts",
  "version": "1.0.0",
  "type": "capability",
  "description": "Text-to-speech synthesis using Piper with dynamic hardware detection.",
  "provides": ["text-to-speech"],
  "requires": [],
  "api": {
    "endpoint": "http://localhost:10200",
    "type": "REST",
    "health_check": "/health"
  },
  "resources": {
    "note": "Resource requirements are dynamically detected at runtime",
    "minimum": {
      "ram_mb": 300,
      "cpu_cores": 1,
      "storage_mb": 1500
    },
    "recommended": {
      "ram_mb": 600,
      "cpu_cores": 2,
      "storage_mb": 1500
    },
    "detection": "automatic",
    "accelerator": "auto-detect"
  },
  "endpoints": {
    "health": {
      "method": "GET",
      "path": "/health",
      "input": "none",
      "output": "application/json",
      "description": "Returns health status and detected hardware information"
    },
    "capability": {
      "method": "GET",
      "path": "/.well-known/capability.json",
      "input": "none",
      "output": "application/json",
      "description": "Returns capability metadata with runtime-detected resources"
    },
    "synthesize": {
      "method": "POST",
      "path": "/synthesize",
      "input": "application/json",
      "output": "audio/wav"
    }
  },
  "container": {
    "image": "localhost/ezansi-capability-tts-piper:1.0.0",
    "port": 10200,
    "restart_policy": "unless-stopped"
  },
  "hardware_detection": {
    "enabled": true,
    "detects": ["architecture", "ram", "cpu_cores", "gpu"],
    "supported_architectures": ["x86_64", "aarch64", "armv7l"],
    "supported_accelerators": ["none", "cuda", "rocm", "openvino"]
  }
}
